.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "TEXPACK" 1 "" "" ""
.SH NAME
texpack \- connection of a large number of small pictures into several large ones
.SH "SYNOPSIS"
.ad l
.hy 0
.HP 8
\fBtexpack\fR [\fIoptions\fR] \fB\-\-source\-dir\fR=\fI<path\ to\ directory>\fR \fB\-\-output\fR=\fI<file\ template>\fR
.ad
.hy
.ad l
.hy 0
.HP 8
\fBtexpack\fR [\fIoptions\fR] \fB\-\-list\fR=\fI<file>\fR\ \fB\-\-output\fR=\fI<file\ template>\fR
.ad
.hy

.SH "DESCRIPTION"

.PP
The program texpack is used for connection of a large number of small textures into several large ones\&. It is necessary for the programs which actively use 3D graphics\&. Because otherwise the number of data transmitted to the graphic accelerator can be so huge that it will lead to the productivity slowdown\&.

.PP
The given program represents a command line utility\&. It receives a list of graphic files (directory or a file with a list) on entry\&. Then these files are packed into a large texture (limited by the specified dimensions)\&. If all files can be placed in it, the next texture is created etc\&. Information about the extent (quality) of packing, as well as overhead information needed for the subsequent restoration of the initial files (horizontal and vertical displacements and possible rotation) are displayed on the screen (or stored in the file)\&.

.SH "NECESARY PARAMETERS"

.PP
The following parameters are necessary for the \fBtexpack\fR:

.TP
\fB\-l\fR, \fB\-\-list\fR \fIFILE\fR
set file which contains a list of the initial files (alternative to \fB\-s\fR)\&.

.TP
\fB\-s\fR, \fB\-\-source\-dir\fR \fIDIR\fR
set route to the directory with the initial files (alternative to \fB\-l\fR)\&. The program tries to open all files found there\&. If at least one file has an unsupported format, the program will be aborted\&.

.TP
\fB\-o\fR, \fB\-\-output\fR \fIFILE_TEMPLATE\fR
set pattern of output files\&. All textures obtained during operation will be saved under the names FILE_TEMPLATE#\&.png, where # is a whole number (0, 1, 2\&.\&.\&.)\&.

.SH "OPTIONS"

.PP
\fBtexpack\fR uses the following options:

.TP
\fB\-r\fR, \fB\-\-relative\fR
set ouput of coordinates of the initial picture in relative coordinates (for example, xr = x / result_width)\&.

.TP
\fB\-f\fR, \fB\-\-file\fR \fIFILE\fR
set output of information for restoration to the indicated file\&. Without this option the output will be made in stdout (to the console)\&.

.TP
\fB\-w\fR, \fB\-\-width\fR \fIWIDTH\fR
set width of the obtained textures\&. The width of the obtained textures will be equal\&. If option \fB\-n\fR isn't stated, then WIDTH will be rounded up to the nearest larger powers of two (256, 512, 1024, etc)\&. It isn't set by default\&.

.TP
\fB\-W\fR, \fB\-\-max\-width\fR \fIWIDTH\fR
set maximal width of the obtained textures\&. The given option is more flexible than \fB\-w\fR, as it allows the program to choose the optimal width for the result picture\&. By default, it is 2048\&.

.TP
\fB\-h\fR, \fB\-\-height\fR \fIHEIGHT\fR
set height of the obtained textures\&. Is similar to \fB\-w\fR\&. It isn't set by default\&.

.TP
\fB\-H\fR, \fB\-\-max\-height\fR \fIHEIGHT\fR
set maximal height of the obtained textures\&. By default, it is 2048\&.

.TP
\fB\-F\fR, \fB\-\-format\fR \fIFORMAT\fR
set user format for information output for restoration (see below)\&.

.TP
\fB\-b\fR, \fB\-\-border \fIWIDTH\fR\fR
set border width in pixels which should be left between the packed pictures\&. By default, it is 0\&.

.TP
\fB\-n\fR, \fB\-\-native\-size\fR
prohibit round\-up of texture sizes to the power of two\&. At that the quality of work rises steeply\&.

.TP
\fB\-a\fR, \fB\-\-separate\-by\-alpha\fR
make the program separate the initial pictures which use alpha channel and pack them separately from the others\&. It helps to save the room when there is a large amount of pictures without alpha channel (or when it is not used)\&.

.TP
\fB\-R\fR, \fB\-\-use\-rotations\fR
make program use rotation of the initial textures at 90 degrees angle counter\-clockwise to improve packing\&.

.SH "STANDARD PARAMETERS"

.TP
\fB\-\-help\fR
output of information for the standard output and successful termination\&.

.TP
\fB\-v\fR, \fB\-\-version\fR
output of version for the standard output and successful termination\&.

.SH "COMMENTS"

.PP
The option \fB\-\-format\fR formats information output for restoration\&. Its notion is used in the function fprintf(3)\&. There are two built\-in formats: one is used when the program is launched with the option \fB\-\-relative\fR, and the second \- without it\&. The format can contain any symbols (only the precentage symbol should be doubled: `%%'), as well as macros:

.PP
%1$s - name of the obtained texture

.PP
%2$s - name of the initial picture

.PP
%3$u - horizontal displacement in pixels up to the left edge of the picture

.PP
%4$u - vertical displacement in pixels up to the upper edge of the picture

.PP
%5$u - horizontal displacement in pixels up to the right edge of the picture

.PP
%6$u - vertical displacement in pixels up to the lower edge of the picture

.PP
%7$f - relative horizontal displacement up to the left edge of the picture

.PP
%8$f - relative vertical displacement up to the upper edge of the picture

.PP
%9$f - relative horizontal displacement up to the right edge og the picture

.PP
%10$f - relative vertical displacement up to the lower edge of the picture

.PP
%11$s - if the picture was rotated, it gets the notion "rotated"\&. Otherwise \- nothing\&.

.PP
%12$u - picture width in pixels

.PP
%13$u - picture height in pixels

.PP
%14$f - relative picture width

.PP
%15$f - relative picture height

.SH "EXAMPLES"

.PP
Let's presume that the directory /home/user/pictures contains a lot of small pictures (smaller than 1024x1024) in \fBPNG\fR format, some of which have alpha channel\&.\&.\&.

.PP
\fBtexpack\fR  \fB\-s\fR  \fI/home/user/pictures\fR  \fB\-o\fR  \fI/home/user/texture\fR

.PP
Creates several files with names /home/user/texture#\&.png, where # is a whole number\&. And the name of the obtained file, the name of the initial file and four numbers will be shown at the console\&.

.PP
\fBfind\fR  \fI/home/user/pictures\fR  \fB\-iname\fR  \fI'*\&.png'\fR  \fB\-type\fR  \fIf\fR > \fI/home/user/pictures/list\&.txt\fR && \\ \fBtexpack\fR  \fB\-l\fR  \fI/home/user/pictures/list\&.txt\fR  \fB\-o\fR  \fI/home/user/pictures/texture\fR

.PP
The given commands are similar in their action to the previous example except for the fact that if the directory /home/user/pictures contains files with the extension other than 'png', they won't be handled\&.

.PP
\fBtexpack\fR  \fI\fB\-s\fR\fR  \fI/home/user/pictures\fR  \fB\-o\fR  \fI/home/user/texture\fR  \fB\-W\fR  \fI1024\fR  \fB\-H\fR  \fI1024\fR

.PP
Is similar to the first example but the obtained files will have sizes no more than 1024x1024\&.

.PP
\fBtexpack\fR  \fB\-s\fR  \fI/home/user/pictures\fR  \fB\-o\fR  \fI/home/user/texture\fR  \fB\-W\fR  \fI1024\fR  \fB\-H\fR  \fI1024\fR  \fB\-a\fR  \fB\-R\fR  \fB\-r\fR

.PP
All pictures will be divided into two sets: the ones with alpha channel and the ones without it\&. Both sets will be packed separately (at first ones with alpha channel)\&. Some initial pictures will be rotated counter\-clockwise at 90 degrees angle\&. The maximal size of the obtained textures won't exceed 1024x1024\&. Relative displacements will be shown at the console as well as the word "rotated" in the rightmost column for the rotated pictures\&.

.SH "NOTES"

.PP
All relative sizes are stated according to the corresponding size of the result texture\&. For example, relative displacements across (\fIoox\fR) and down (\fIooy\fR) are counted this way: oox = ox / tex_width, ooy = oy / tex_height\&. \fIox\fR and \fIoy\fR here are the horizontal and vertical displacements in pixels and \fItex_width\fR and \fItex_height\fR \- sizes of the result texture\&.

.PP
The right and the left sides exceed the bounds of the picture\&. The following rules are true: right = left + width, bottom = top + height

.SH "EXIT VALUES"

.PP
In case of successful termination \fBtexpack\fR returns 0 on exit\&.

.SH "SEE ALSO"

.PP
\fBfprintf\fR(3)\&.

